(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{59:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(43),i=a.n(n),r=a(44),c=a(10),l=a(0),s=a.n(l),o=a(1),p=a(53),u=a(54),d=a(42),v=a(15),b=a(45),f=a(58),m=a(46),h=a(11);a(59);t.default=function(e){var t=Object(l.useContext)(h.a),a=Object(m.a)(),n=a.isLoading,j=a.error,E=a.sendRequest,O=a.clearError,x=Object(l.useState)(),V=Object(c.a)(x,2),k=V[0],y=V[1],w=Object(o.h)().placeId,T=Object(o.g)(),g=Object(f.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),C=Object(c.a)(g,3),P=C[0],A=C[1],I=C[2];Object(l.useEffect)((function(){(function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("http://localhost:8080/api","/places/").concat(w));case 3:t=e.sent,y(t.place),I({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[E,w,I]);var N=function(){var e=Object(r.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,E("".concat("http://localhost:8080/api","/places/").concat(w),"PATCH",JSON.stringify({title:P.inputs.title.value,description:P.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 4:T.push("/"+t.userId+"/places"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return n?s.a.createElement("div",{className:"center"},s.a.createElement("h2",null,"Loading...")):k||j?s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{error:j,onClear:O}),!n&&k&&s.a.createElement("form",{className:"place-form",onSubmit:N},s.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(p.c)()],errorText:"Please enter a valid title",onInput:A,initialValue:k.title,initialValid:k.title}),s.a.createElement(u.a,{id:"description",element:"input",type:"text",label:"Description",validators:[Object(p.b)(5)],errorText:"Please enter a valid description (5 min characters)",onInput:A,initialValue:k.description,initialValid:k.description}),s.a.createElement(d.a,{type:"submit",disabled:!P.isValid},"UPDATE PLACE"))):s.a.createElement("div",{className:"center"},s.a.createElement(v.a,null))}}}]);
//# sourceMappingURL=9.12dd1a30.chunk.js.map