(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{59:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a.n(n),i=a(44),c=a(10),l=a(0),s=a.n(l),o=a(1),p=a(53),u=a(54),d=a(42),m=a(15),b=a(45),v=a(58),f=a(46),h=a(11);a(59);t.default=function(e){var t=Object(l.useContext)(h.a),a=Object(f.a)(),n=a.isLoading,j=a.error,E=a.sendRequest,O=a.clearError,x=Object(l.useState)(),k=Object(c.a)(x,2),V=k[0],g=k[1],y=Object(o.h)().placeId,w=Object(o.g)(),T=Object(v.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),C=Object(c.a)(T,3),P=C[0],A=C[1],I=C[2];Object(l.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("https://place-blog-mern.herokuapp.com/api","/places/").concat(y));case 3:t=e.sent,g(t.place),I({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[E,y,I]);var N=function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,E("".concat("https://place-blog-mern.herokuapp.com/api","/places/").concat(y),"PATCH",JSON.stringify({title:P.inputs.title.value,description:P.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 4:w.push("/"+t.userId+"/places"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return n?s.a.createElement("div",{className:"center"},s.a.createElement("h2",null,"Loading...")):V||j?s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{error:j,onClear:O}),!n&&V&&s.a.createElement("form",{className:"place-form",onSubmit:N},s.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(p.c)()],errorText:"Please enter a valid title",onInput:A,initialValue:V.title,initialValid:V.title}),s.a.createElement(u.a,{id:"description",element:"input",type:"text",label:"Description",validators:[Object(p.b)(5)],errorText:"Please enter a valid description (5 min characters)",onInput:A,initialValue:V.description,initialValid:V.description}),s.a.createElement(d.a,{type:"submit",disabled:!P.isValid},"UPDATE PLACE"))):s.a.createElement("div",{className:"center"},s.a.createElement(m.a,null))}}}]);
//# sourceMappingURL=9.57e3fe62.chunk.js.map